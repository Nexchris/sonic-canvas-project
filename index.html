<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sonic The Hedgehog</title>
    <link rel="stylesheet" href="css/style.css">
<link rel="icon" type="image/webp" href="/assets/img/misc/favicon.webp">
</head>
<body>
    <main>
        <section class="gameSection">
            <img src="./assets/img/misc/SonicTitle.png" alt="">
            <h1 class="projectTitle">Canvas Project.</h1>

            <audio id="titleMusic" src="./assets/music/titleSong.mp3"></audio>

            <div class="gameZone">
                <video 
                    id="introVideo" 
                    class="canvasLayer" 
                    src="./assets/video/splashScreen.mp4">
                </video>

                <canvas id="canvasGame" width="640" height="360"></canvas>
                <button id="playIntro" class="playButton">
                    â–¶
                </button>
            </div>
        </section>

        <section>
            ss
        </section>
    </main>

    <script src="./js/titleScreen.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
  const video  = document.getElementById("introVideo");
  const canvas = document.getElementById("canvasGame");
  const playBtn = document.getElementById("playIntro");
  const audio = document.getElementById("titleMusic");

  // Au cas oÃ¹ : on s'assure que le canvas est cachÃ© au dÃ©but
  canvas.style.display = "none";
  video.style.display = "block";

  // Clic sur le bouton play
  playBtn.addEventListener("click", async () => {
    // on cache le bouton
    playBtn.style.display = "none";

    // on reset la vidÃ©o si besoin
    video.currentTime = 0;

    try {
      await video.play(); // lance l'intro
    } catch (err) {
      console.error("Erreur lecture vidÃ©o :", err);
    }
  });

  // Quand la vidÃ©o se termine
  video.addEventListener("ended", async () => {
    // cacher la vidÃ©o
    video.style.display = "none";

    // afficher le canvas
    canvas.style.display = "block";

    // lancer l'audio du titre
    try {
      await audio.play();
    } catch (err) {
      console.error("Erreur lecture audio :", err);
    }

    // ðŸ‘‰ Câ€™est aussi ici que tu peux lancer ton jeu canvas :
    // startGame(canvas);
  });
});

    </script>
</body>
</html>
